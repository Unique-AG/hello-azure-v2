resources:
  - apiVersion: elasticsearch.k8s.elastic.co/v1
    kind: Elasticsearch
    metadata:
      name: elasticsearch-ingestion
    spec:
      version: 9.0.2
      auth:
      nodeSets:
        - name: default
          count: 1 # In production, run cluster with 3 nodes
          config:
            node.store.allow_mmap: false
          podTemplate:
            spec:
              containers:
                - name: elasticsearch
                  resources:
                    requests:
                      memory: 2Gi
                      cpu: 0.5
                    limits:
                      memory: 2Gi
                      cpu: 0.5
          volumeClaimTemplates:
            - metadata:
                name: elasticsearch-data
              spec:
                accessModes:
                  - ReadWriteOnce
                resources:
                  requests:
                    storage: 10Gi
                storageClassName: default-zrs
