image:
  tag: "2025.44.1"
  repository: uniquehelloazure.azurecr.io/backend-service-scope-management
env:
  ZITADEL_HOST: https://id.hello.azure.unique.dev
  ZITADEL_ROOT_ORG_ID: "305511794535891578"
  # This can be uncommented if you want to avoid hairpinning (going outisde of the cluster to reach Zitadel which is deployed in the same cluster)
  # ZITADEL_GRPC_DEFAULT_AUTHORITY: id.hello.azure.unique.dev
  # ZITADEL_GRPC_SSL_TARGET_NAME_OVERRIDE: id.hello.azure.unique.dev
  # ZITADEL_HTTP_EXTRA_HEADERS: '{"x-zitadel-instance-host": "id.hello.azure.unique.dev"}'
  # ZITADEL_HOST: http://zitadel.unique.svc.cluster.local:8080
extraRoutes:
  scim:
    enabled: true
    annotations:
      konghq.com/plugins: unique-route-metrics
    parentRefs:
      - name: kong
        namespace: unique
        group: gateway.networking.k8s.io
        kind: Gateway
    hostnames:
      - api.hello.azure.unique.dev
    matches:
      - path:
          type: PathPrefix
          value: /scim
secretProvider:
  vaults:
    helloazuresensitive:
      DATABASE_URL: database-url-scope-management
    helloazuremain:
      ZITADEL_PAT: manual-zitadel-scope-mgmt-pat
